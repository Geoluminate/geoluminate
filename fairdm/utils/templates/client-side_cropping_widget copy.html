{% load i18n fairdm %}

<div class="dcsic_wrapper position-relative {% if current_img_url %}has_image{% endif %}"
     data-res-width="{{ widget.res_width }}"
     data-res-height="{{ widget.res_height }}"
     data-res-format="{{ widget.res_format }}"
     data-res-quality="{{ widget.res_quality }}">
  <input type="hidden"
         name="{{ widget.name }}"
         {% include "django/forms/widgets/attrs.html" %}
         {% if original_uploaded_data %}value="{{ original_uploaded_data }}"{% endif %} />
  <span onclick="$('.dcsic_choose_other_img').click();">
    <img src="{{ current_img_url }}"
         class="dcsic_current_img"
         style="width: {{ widget.preview_width }};
                height: {{ widget.preview_height }}" />
  </span>
  <label class="d-none">
    <span class="dcsic_choose_other_img"></span>
    <input type="file"
           class="dcsic_file_input d-none"
           accept="image/*" />
  </label>
  {% if input_clearable %}
    <button class="dcsic_delete_image m-3 btn btn-warning position-absolute bottom-0 end-0">
      {% trans "Delete image" %}
    </button>
  {% endif %}
</div>
<div class="dcsic_overlay modal bg-dark"
     data-bs-backdrop="static"
     style="--bs-bg-opacity: .8">
  <div class="dcsic_dialog">
    <div class="modal-content">
      <div class="dcsic_croppie_container"
           style="min-height: 350px"></div>
      <div class="hstack gap-2 pb-3 justify-content-center">
        <div class="dcsic_left btn btn-primary">
          <span class="dcsic_icon">↺</span> {% trans "Rotate left" %}
        </div>
        <div class="dcsic_right btn btn-primary">
          <span class="dcsic_icon">↻</span> {% trans "Rotate right" %}
        </div>
      </div>
      <div class="modal-footer z-1">
        <div class="dcsic_cancel btn btn-secondary">{% trans "Cancel" %}</div>
        <div class="dcsic_ok btn btn-primary">{% trans "Continue" %}</div>
      </div>
    </div>
  </div>
</div>
{% comment %} <div class="dcsic_overlay"><div class="dcsic_dialog">
  <div class="dcsic_croppie_container"></div>
  <div class="dcsic_buttons">
      <div><div class="dcsic_left"><span class="dcsic_icon">↺</span> {% trans "Rotate left" %}</div><div class="dcsic_right"><span class="dcsic_icon">↻</span> {% trans "Rotate right" %}</div></div>
      <div><div class="dcsic_cancel">{% trans "Cancel" %}</div><div class="dcsic_ok">{% trans "OK" %}</div></div>
  </div>
</div> {% endcomment %}
